"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[207],{4377:function(n,e,t){t.d(e,{a:function(){return c}});var r=t(5861),i=t(4687),o=t.n(i),a=t(1243);function c(n,e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(o().mark((function n(e,t){var r,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.punkapi.com/v2/beers",r={beers:"?page=".concat(t),getBeerbyId:"/".concat(t)},n.prev=2,n.next=5,a.Z.get("".concat("https://api.punkapi.com/v2/beers").concat(r[e]));case 5:return i=n.sent,n.abrupt("return",i.data);case 9:n.prev=9,n.t0=n.catch(2),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))).apply(this,arguments)}},6210:function(n,e,t){var r=t(3433),i=(0,t(5847).Ue)((function(n){var e,t,i;return{beerStatus:null!==(e=JSON.parse(window.localStorage.getItem("status")))&&void 0!==e?e:[],index:0,limit:15,beers:null!==(t=JSON.parse(window.localStorage.getItem("beers")))&&void 0!==t?t:[],beerId:[],shopping:null!==(i=JSON.parse(window.localStorage.getItem("shooping")))&&void 0!==i?i:[],page:1,fetching:!1,changeStatusBeer:function(e){return n((function(n){n.beerStatus;return{beerStatus:(0,r.Z)(e)}}))},changeIndex:function(e){return n((function(n){return{index:e?n.index+5:n.index-5}}))},changeLimit:function(e){return n((function(n){return{limit:e?n.limit+5:n.limit-5}}))},addBeers:function(e){return n((function(){return{beers:(0,r.Z)(e)}}))},addBeerId:function(e){return n((function(){return{beerId:(0,r.Z)(e)}}))},addPage:function(){return n((function(n){return{page:n.page+1}}))},addToShopping:function(e){return n((function(n){var t=n.shopping;return{shopping:[].concat((0,r.Z)(t),(0,r.Z)(e))}}))},removeBeerFromShopping:function(e){return n((function(){return{shopping:(0,r.Z)(e)}}))},togglFetching:function(e){return n((function(n){return{fetching:e}}))}}}));e.Z=i},9207:function(n,e,t){t.r(e),t.d(e,{default:function(){return B}});var r,i,o,a,c,u,s,p,d=t(9439),l=t(4506),f=t(3433),g=t(2791),x=t(1087),h=t(7689),b=t(168),m=t(9549),w=m.Z.div(r||(r=(0,b.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  /* padding: 10px; */\n  padding-top: 10px;\n"]))),v=(m.Z.h2(i||(i=(0,b.Z)(["\n  padding: 30px 20px 20px 20px;\n  font-size: 30px;\n  gap: 10px;\n"]))),m.Z.ul(o||(o=(0,b.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 125px;\n  padding: 20px;\n  border-radius: 30px;\n  box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.75);\n  background-color: #86940a;\n"])))),S=m.Z.li(a||(a=(0,b.Z)(["\n  padding: 20px 40px 20px 40px;\n  width: 180px;\n  height: auto;\n  font-size: 20px;\n  font-weight: 700;\n  border: 2px solid rgba(148, 148, 148, 0.4);\n  border-radius: 10px 9px 10px 10px;\n\n  z-index: 1000;\n  background-color: saddlebrown;\n"]))),Z=m.Z.img(c||(c=(0,b.Z)(["\n  width: 180px;\n  height: 400px;\n"]))),I=(0,m.Z)(x.rU)(u||(u=(0,b.Z)(["\n  font-size: 18px;\n  font-weight: 400;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  display: flex;\n  width: 180px;\n  text-align: center;\n  justify-content: center;\n  align-items: center;\n"]))),y=m.Z.button(s||(s=(0,b.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 180px;\n  background-color: #12cf12;\n  color: white;\n  padding: 20px 30px;\n  border-radius: 10px;\n  &:hover {\n    -webkit-box-shadow: 0px 0px 20px 1px rgba(66, 66, 66, 0.7);\n    box-shadow: 0px 0px 20px 1px rgba(66, 66, 66, 0.7);\n  }\n"]))),N=m.Z.button(p||(p=(0,b.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 180px;\n  background-color: #cf2912;\n  color: white;\n  padding: 20px 30px;\n  border-radius: 10px;\n  &:hover {\n    -webkit-box-shadow: 0px 0px 20px 1px rgba(66, 66, 66, 0.7);\n    box-shadow: 0px 0px 20px 1px rgba(66, 66, 66, 0.7);\n  }\n"]))),k=t(4377),j=t(6210),O=t(184),B=function(){var n=(0,h.TH)(),e=(0,j.Z)(),t=e.changeStatusBeer,r=e.beerStatus,i=e.index,o=e.changeIndex,a=e.limit,c=e.changeLimit,u=e.beers,s=e.addBeers,p=e.shopping,b=e.page,m=e.fetching,B=e.addToShopping,J=e.togglFetching,E=e.addPage,_=e.removeBeerFromShopping;(0,g.useEffect)((function(){(0,k.a)("beers",1).then((function(n){var e=(0,l.Z)(n).slice(0);window.localStorage.setItem("beers",JSON.stringify(e)),s(e)}))}),[]),(0,g.useEffect)((function(){if(u.length!==a){var n=new IntersectionObserver(z,{threshold:.8}),e=[];document.querySelectorAll("#item").forEach((function(n){e.push(n)}));var t=e[0];t&&n.observe(t)}}),[i]),(0,g.useEffect)((function(){if(!m){var n=new IntersectionObserver(C,{threshold:.8}),e=[];document.querySelectorAll("#item").forEach((function(n){e.push(n)}));var t=e[e.length-1];t&&n.observe(t)}}),[u,i,r]),(0,g.useEffect)((function(){m&&(0,k.a)("beers",b).then((function(n){var e=(0,l.Z)(n).slice(0),t=[].concat((0,f.Z)(u),(0,f.Z)(e));window.localStorage.removeItem("beers"),window.localStorage.setItem("beers",JSON.stringify(t)),s(t),J(!1)}))}),[m]);var z=function(n,e){var t=(0,d.Z)(n,1)[0];t.isIntersecting&&0===i||t.isIntersecting&&(e.unobserve(t.target),c(!1),o(!1))},C=function(n,e){var t=(0,d.Z)(n,1)[0];if(t.isIntersecting)return u.length===a?(e.unobserve(t.target),E(),c(!0),o(!0),void J(!0)):(e.unobserve(t.target),c(!0),void o(!0))},D=function(n){var e=n.target.id.toString();if(r.includes(Number(e))){var i=r.findIndex((function(n){return n===e}));r.splice(Number(i),1),window.localStorage.removeItem("status"),window.localStorage.setItem("status",JSON.stringify(r)),t(r)}else r.push(Number(e)),window.localStorage.setItem("status",JSON.stringify(r)),t(r)},F=u.sort((function(n,e){return n.id-e.id}));return(0,O.jsx)(w,{children:(0,O.jsx)(v,{id:"scrollArea",children:F.slice(i,a).map((function(e){var t=e.id,i=e.name,o=e.image_url;return(0,O.jsxs)(S,{id:"item",children:[(0,O.jsx)(x.rU,{to:"beers/".concat(t),state:{from:n},children:(0,O.jsx)(Z,{src:o,alt:i})}),(0,O.jsx)(I,{to:"beers/".concat(t),state:{from:n},children:"Details info fo this beer"}),r.find((function(n){return n===Number(t)}))?(0,O.jsx)(N,{id:t,onContextMenu:function(n){n.preventDefault(),function(n){var e=n.target.id,t=p.filter((function(n){return n.id!==Number(e)}));window.localStorage.removeItem("shooping"),window.localStorage.setItem("shooping",JSON.stringify(t)),_(t)}(n),D(n)},children:"Delete"}):(0,O.jsx)(y,{id:t,onContextMenu:function(n){n.preventDefault(),function(n){var e=n.target.id,t=u.filter((function(n){return n.id===Number(e)}));p.find((function(n){return n.id===Number(e)}))||(window.localStorage.setItem("shooping",JSON.stringify([].concat((0,f.Z)(p),(0,f.Z)(t)))),B(t))}(n),D(n)},children:"Buy beer"})]},t)}))})})}}}]);
//# sourceMappingURL=207.1347bb6b.chunk.js.map